(this["webpackJsonpbalanced-news"]=this["webpackJsonpbalanced-news"]||[]).push([[0],{79:function(e,t,r){},84:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r(0),c=r.n(a),i=r(18),s=r.n(i),o=r(49),u=r(7),l=r.n(u),f=r(12),j=r(27),b=r(40),h=r.n(b),p=function(){var e=Object(f.a)(l.a.mark((function e(t){var r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://newsapi.org/v2/everything/?language=en&pageSize=100",""!==t&&(r+="&q="+t),r+="&apiKey=34b4a41b7ec64d1fa3e049223d1edf3c",e.next=5,h.a.get(r).then((function(e){return e.data.articles})).catch((function(e){return console.log(e),429===e.status&&console.log("Too many requests"),[]}));case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=r(100),O=r(102),g=r(86),v=(r(79),function(e){var t=e.url,r=e.title,a=e.urlToImage;return Object(n.jsxs)(d.a,{item:!0,className:"card-container",children:[Object(n.jsx)(O.a,{href:t,target:"_blank",rel:"noopener noreferrer",children:Object(n.jsx)(g.a,{align:"center",variant:"h5",children:r})}),a&&Object(n.jsx)("img",{src:a,alt:"",className:"image-container"})]})}),m=r(30),x=r.n(m),w=function(e){var t=e.articles,r=e.getNews,c=e.loading,i=Object(a.useRef)(),s=Object(a.useCallback)((function(e){i.current&&i.current.disconnect(),i.current=new IntersectionObserver(function(){var e=Object(f.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t[0].isIntersecting&&!c&&r();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e&&i.current.observe(e)}),[r,c]);return Object(n.jsx)("ul",{children:t.map((function(e,r){return t.length===r+1?Object(n.jsx)(d.a,{item:!0,ref:s,children:Object(n.jsx)(v,{url:e.url,title:e.title,urlToImage:e.urlToImage})},x()()):Object(n.jsx)(d.a,{item:!0,children:Object(n.jsx)(v,{url:e.url,title:e.title,urlToImage:e.urlToImage})},x()())}))})},y=r(50),k=r(45),S=r(46),I=r(51),C=r(48),M=function(e){Object(I.a)(r,e);var t=Object(C.a)(r);function r(){var e;Object(k.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={error:null},e}return Object(S.a)(r,[{key:"componentDidUpdate",value:function(e,t){t.error&&t.error===this.state.error&&this.setState({error:null})}},{key:"render",value:function(){var e=this.state.error;return e?Object(n.jsx)(this.props.FallbackComponent,Object(y.a)({},e)):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),r}(a.Component),N=r(104),T=r(47),E=r(103);var J=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),r=t[0],c=t[1],i=Object(a.useState)(!1),s=Object(j.a)(i,2),u=s[0],b=s[1],h=Object(a.useState)(50),O=Object(j.a)(h,2),v=O[0],m=O[1],x="articles";Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem(x)||"");c(e)}),[]),Object(a.useEffect)((function(){localStorage.setItem(x,JSON.stringify(r))}),[r]);var y=function(){var e=Object(f.a)(l.a.mark((function e(t){var r,n,a,c,i,s,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[""],n=[""],a="",c=0,e.next=6,fetch("negative-words.txt");case 6:return i=e.sent,e.next=9,i.text();case 9:return s=e.sent,r=s.toString().split("\n"),e.next=13,fetch("positive-words.txt");case 13:return o=e.sent,e.next=16,o.text();case 16:for(u=e.sent,n=u.toString().split("\n");c<2;)100*Math.random()<t?n.length&&(a+=n[Math.floor(Math.random()*n.length-1)]+" "):r.length&&(a+=r[Math.floor(Math.random()*r.length-1)]+" "),c+=1;return e.abrupt("return",a);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(f.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(!0),!v){e.next=12;break}return e.next=4,y(v);case 4:return t=e.sent,e.next=7,p(t);case 7:if(0!==(n=e.sent).length){e.next=11;break}return k(),e.abrupt("return");case 11:Array.from(new Set(n.map((function(e){return e.title})))).forEach((function(e){var t=n.find((function(t){return t.title===e}));t&&c([].concat(Object(o.a)(r),[t]))}));case 12:return b(!1),e.abrupt("return");case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(f.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=Object(T.a)({overrides:{MuiSlider:{thumb:{color:"yellow"},track:{color:"green"},rail:{color:"red"}}}});return Object(n.jsx)("div",{className:".app",children:Object(n.jsxs)(d.a,{container:!0,spacing:2,justify:"center",children:[Object(n.jsxs)(d.a,{item:!0,children:[Object(n.jsx)(g.a,{id:"ratio-slider",align:"center",variant:"h5",children:"Slide to adjust ratio of positive vs negative news"}),Object(n.jsx)(E.a,{theme:I,children:Object(n.jsx)(N.a,{defaultValue:50,min:1,max:99,value:v,onChange:function(e,t){"number"===typeof t&&m(t),c([])},onChangeCommitted:S,"aria-labelledby":"ratio-slider"})})]}),Object(n.jsx)(d.a,{container:!0,justify:"center",children:Object(n.jsx)(M,{FallbackComponent:function(e){var t=e.error;return Object(n.jsxs)("div",{role:"alert",children:[Object(n.jsx)("p",{children:"Something went wrong:"}),Object(n.jsx)("pre",{children:t.message})]})},children:r?Object(n.jsx)(w,{articles:r,getNews:k,loading:u}):null})})]})})};s.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(J,{})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.a52d117d.chunk.js.map